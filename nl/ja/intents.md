---

copyright:
  years: 2015, 2018
lastupdated: "2018-02-27"

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:tip: .tip}
{:pre: .pre}
{:codeblock: .codeblock}
{:screen: .screen}
{:javascript: .ph data-hd-programlang='javascript'}
{:java: .ph data-hd-programlang='java'}
{:python: .ph data-hd-programlang='python'}
{:swift: .ph data-hd-programlang='swift'}

# インテントの定義

***インテント*** とは、質問に対する回答や請求書の支払処理などの顧客の入力に表現される目的または目標のことです。顧客の入力で表現されたインテントを認識することによって、{{site.data.keyword.conversationshort}} サービスは、そのインテントに応答するための正しいダイアログ・フローを選択することができます。
{: shortdesc}

<iframe class="embed-responsive-item" id="youtubeplayer" type="text/html" width="640" height="390" src="https://www.youtube.com/embed/VG0YykNcfv8?rel=0" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen> </iframe>

## インテント数の制限
{: #intent-limits}

作成できるインテントと例の数は、次に示すように {{site.data.keyword.conversationshort}} サービス・プランによって異なります。

| サービス・プラン | インテント数/ワークスペース| 例の数/ワークスペース|
|------------------|----------------------:|-----------------------:|
| 標準/プレミアム  |                 2,000 |                 25,000 |
| ライト           |                   100 |                 25,000 |

## インテントの作成
{: #creating-intents}

{{site.data.keyword.conversationshort}} ツールを使用してインテントを作成します。

1.  {{site.data.keyword.conversationshort}} ツールで、ワークスペースを開き、ナビゲーション・バーの**「インテント (Intents)」**タブを選択します。**「インテント (Intents)」**が表示されない場合、![メニュー](images/Menu_16.png) メニューを使用してこのページを開きます。
1.  **「新規作成 (Create new)」**を選択します。
1.  **「インテント名 (Intent name)」**フィールドに、このインテントを表す名前を入力します。
    - インテント名には、文字 (ユニコード)、数字、下線、ハイフン、およびピリオドを使用できます。
    - この名前は、`..` またピリオドだけの他のストリングから構成することはできません。
    - インテント名にスペースを含めることはできず、128 文字を超えてはなりません。次にインテント名の例を示します。
        - `#weather_conditions`
        - `#pay_bill`
        - `#escalate_to_agent`

    このツールが自動的にインテント名に `#` 文字を含めるため、この文字を追加する必要はありません。
    {: tip}

    **「作成 (Create)」**を選択して、例を追加せずにインテント名を保存できます。また、ユーザーの例フィールドを選択するか、または Tab キーを使用して先へ移動して、例を追加することもできます。

1.  **「ユーザーの例 (User example)」**フィールドに、インテント用のユーザーの例のテキストを入力します。例は、長さが 1024 文字までの任意のストリングにできます。次に `#pay_bill` インテントの例を示します。
    - `支払いをする必要があります。`
    - `残金を支払う`
    - `支払いをする`

    このインテントに対応するエンティティーを定義したか、または定義する予定の場合、いくつかの例の中のエンティティー、またはそれらに関連付けられている同義語を参照してください。そうすることで、インテントとエンティティーの間の関係を設定するために役立ちます。

    > **重要:** アプリケーションがこのサービスと対話する際に、インテント名と例のテキストが URL 内に公開される可能性があります。これらの成果物に機密情報または個人情報を含めないでください。

    Enter キーを押すか、または **+** を選択して、例を保存します。
1.  同じプロセスを繰り返して、さらに例を追加します。それぞれの例の間はタブで移動できます。インテントごとに少なくとも 5 つの例を提供してください。提供する例が多ければ多いほど、アプリケーションは正確になります。

    ![インテントの定義を示す画面キャプチャー](images/define_intent.png)
1.  例の追加が終了したら、**「完了 (Done)」**を選択してインテントの作成を終了します。

### 結果

作成したインテントが「インテント (Intents)」タブに追加され、システムはこれらの新規データでシステム自体のトレーニングを開始します。

## インテントの編集

リスト内の任意のインテントを選択して、編集のために開くことができます。次の変更を行うことができます。

- インテントの名前を変更する。
- インテントを削除する。
- 例を追加、編集、または削除する。
- 例を別のインテントに移動する。

インテント名からそれぞれの例にタブで移動して選択すれば、例を編集できます。

例を移動するには、チェック・ボックスを選択してその例を選択してから**「移動先 (Move to)」**を選択します。

  ![例を移動する方法を示す画面キャプチャー](images/move_example.png)

## インテントと例のインポート

多数のインテントと例がある場合、{{site.data.keyword.conversationshort}} ツールで 1 つずつ定義するよりも、コンマ区切り値 (CSV) ファイルからインポートする方が簡単です。

1.  インテントと例を CSV ファイルに収集するか、またはそれらをスプレッドシートから CSV ファイルにエクスポートします。ファイルの各行のフォーマットは、以下のようにする必要があります。

    ```
    <例>,<インテント>
    ```
    {: screen}

    ここで、`<例>` はユーザーの例のテキスト、`<インテント>` は例に一致してほしいインテントの名前です。例えば次のようにします。

    ```
    現在の天候状態を教えてください。,weather_conditions
    雨が降っていますか?,weather_conditions
    気温は何度ですか?,weather_conditions
    最も近い場所はどこですか?,find_location
    ローリーに店舗はありますか?,find_location
    ```
    {: screen}

    > **重要:** CSV ファイルは、UTF-8 エンコード方式で、バイト・オーダー・マーク (BOM) なしで保存してください。

1.  {{site.data.keyword.conversationshort}} ツールで、ワークスペースを開き、ナビゲーション・バーの**「インテント (Intents)」**タブを選択します。**「インテント (Intents)」**が表示されない場合、![メニュー](images/Menu_16.png) メニューを使用してこのページを開きます。

1.  ![インポート (Import)](images/importGA.png) を選択してからファイルをドラッグするか、または参照してコンピューター上のファイルを選択します。ファイルは検証されてインポートされます。そして、新規データについてのシステムのトレーニングが開始されます。

    > **重要:** CSV ファイルの最大サイズは 10 MB です。CSV ファイルがこれより大きい場合は、複数のファイルに分割し、別々にインポートすることを検討してください。

### 結果

インポートされたインテントと対応する例は、「インテント (Intents)」タブで表示できます。新しいインテントと例を表示するためにページの最新表示が必要になる場合があります。

## インテントのエクスポート
{: #export_intents}

多数のインテントを CSV ファイルにエクスポートできるので、別の Conversation アプリケーションでそれらをインポートして再利用することができます。

1.  「インテント (Intents)」タブで、![「エクスポート (Export)」アイコン](images/ExportIcon.png) を選択します

    ![「エクスポート (Export)」オプションと「削除 (Delete)」オプション](images/ExportIntent1.png)

1.  必要なインテントを選択して、**「エクスポート (Export)」**ボタンをクリックします。
    ![「エクスポート (Export)」ボタンと「削除 (Delete)」ボタンのエンティティーの選択](images/ExportIntent2.png)

## インテントの削除
{: #delete_intents}

多数のインテントを削除のために選択することができます。

**重要**: インテントを削除すると、関連付けられている例もすべて削除されます。これらの項目は後で復旧することはできません。削除したインテントを参照するダイアログ・ノードはすべて、削除されたコンテンツを今後参照しないように手動で更新する必要があります。

1.  「インテント (Intents)」タブで、![「削除 (Delete)」アイコン](images/DeleteIcon.png)を選択します

    ![「エクスポート (Export)」オプションと「削除 (Delete)」オプション](images/ExportIntent3.png)

1.  削除する各インテントを選択して、**「削除 (Delete)」**ボタンをクリックします。**注**: 削除機能では、インテントの一括削除がサポートされます。

## インテントのテスト
{: #testing-your-intents}

新しいインテントの作成が完了したら、システムがそれらのインテントを予期どおりに認識するかどうかを確認するためにシステムをテストできます。

1.  {{site.data.keyword.conversationshort}} ツールで、![Watson に質問する](images/ask_watson.png) アイコンを選択します。

1.  「試行する (Try it out)」パネルで、質問または他のテキスト・ストリングを入力し、Enter キーを押してどのインテントが認識されるかを確認します。間違ったインテントが認識された場合、このテキストを正しいインテントに例として追加することにより、モデルを改善できます。

    ワークスペースに最近変更を加えた場合は、システムが引き続きリトレーニング中であることを示すメッセージが表示される場合があります。このメッセージが表示された場合は、トレーニングが完了するまで待機し、完了後にテストを行います。
    {: tip}

    ![リトレーニング中のメッセージを示す画面キャプチャー](images/training.png)

    応答には、入力から認識されたインテントが示されます。

    ![インテントのテストの画面キャプチャー](images/test_intents.png)

1.  システムが正しいインテントを認識しなかった場合、そのインテントを修正することができます。認識されたインテントを修正するには、表示されたインテントを選択した後、リストから正しいインテントを選択します。修正が送信されると、システムはこの新規データを取り込むためにシステム自体を自動的にリトレーニングします。

    ![認識されたインテントの修正を示す画面キャプチャー](images/correct_intent.png)

1.  入力がアプリケーションに関係ない場合、そのことを示すことができます。表示されたインテントを選択して、**「無関係とマークを付ける (Mark as irrelevant)」**を選択します。

    ![「無関係とマークを付ける (Mark as irrelevant)」の画面キャプチャー](images/irrelevant.png)

インテントが正しく認識されない場合は、次のような変更を行うことを検討してください。

- 認識されないテキストを正しいインテントに例として追加する。
- 既存の例を、あるインテントから別のインテントに移動する。
- インテント同士が似すぎていないかどうかを検討し、必要に応じてそれらを定義し直す。

## 絶対スコアリングと「無関係とマークを付ける (Mark as irrelevant)」

2017 年 2 月以降、インテントの信頼度をスコアリングしてインテントを返すための新しいアルゴリズムが組み込まれています。また、入力に「無関係」とマークを付けることもできます。これらの変更には、[ご使用のワークスペースのアップグレード ![外部リンク・アイコン](../../icons/launch-glyph.svg "外部リンク・アイコン")](upgrading.html){: new_window} が必要になる場合があります。

### 絶対スコアリング

各インテントの信頼度は、他のインテントとの比較ではなく、それ自体でスコアリングされるようになりました。これにより、複数のインテントを柔軟に返すことができます。また、システムがインテントを全く返さない場合があることも意味しています。システムでどのインテントもユーザー入力に対して低い信頼度 (0.2 未満) しかない場合、システムはインテントを返しません。

インテントの信頼度スコアが変化した場合、ダイアログの再構築が必要になることがあります。例えば、信頼度が低くなったインテントでダイアログを調整した場合、システムの応答は正しくなくなります。

### 「無関係とマークを付ける (Mark as irrelevant)」
{: #mark-irrelevant}

この機能が使用可能かどうかは、[サポートされる言語](lang-support.html)で参照することができます。

ワークスペースをアップグレードしたら、「試行する (Try it out)」パネルで[入力をテスト](#testing-your-intents)して変更を確認することができます。「無関係とマークを付ける (Mark as irrelevant)」を使用して、入力がアプリケーションに関連付けられていないことを示すことができます。

有効範囲外またはトピックから外れている入力について #off_topic (トピック外) などのインテントがある場合、そのインテントを削除し、それらの入力が無関係であるとマークを付けることにより、ワークスペースをテストします。

> **重要**: 無関係とマークが付けられた入力は、そのワークスペースに格納され、トレーニング用データの一部として組み込まれます。この変更を本当に実行する必要があることを確認してください。
> - これらの入力は、後でこのツール内でアクセスすることも変更することもできません。
> - 「無関係 (Irrelevant)」のタグを削除する唯一の方法は、「試行する (Try it out)」パネルで同じ入力を使用してから、そのインテントを変更することです。
